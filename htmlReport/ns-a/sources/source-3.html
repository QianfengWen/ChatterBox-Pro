


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=GBK"> 
  <title>Coverage Report > FunJokeView</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">chattingSystem.frameworks_drivers.ui.views</a>
</div>

<h1>Coverage Summary for Class: FunJokeView (chattingSystem.frameworks_drivers.ui.views)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">FunJokeView</td>
<td class="coverageStat">
  <span class="percent">
    25%
  </span>
  <span class="absValue">
    (1/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    83.3%
  </span>
  <span class="absValue">
    (55/66)
  </span>
</td>
</tr>
  <tr>
    <td class="name">FunJokeView$1</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (1/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    14.3%
  </span>
  <span class="absValue">
    (1/7)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    33.3%
  </span>
  <span class="absValue">
    (2/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    76.7%
  </span>
  <span class="absValue">
    (56/73)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package chattingSystem.frameworks_drivers.ui.views;
&nbsp;
&nbsp;import chattingSystem.interface_adapter.controllers.FunJokeController;
&nbsp;import chattingSystem.interface_adapter.state.FunJokeState;
&nbsp;import chattingSystem.interface_adapter.view_models.FunJokeViewManagerModel;
&nbsp;import chattingSystem.interface_adapter.view_models.FunJokeViewModel;
&nbsp;
&nbsp;import javax.swing.*;
&nbsp;import java.awt.*;
&nbsp;import java.awt.event.ActionEvent;
&nbsp;import java.awt.event.ActionListener;
&nbsp;import java.beans.PropertyChangeEvent;
&nbsp;import java.beans.PropertyChangeListener;
&nbsp;
&nbsp;public class FunJokeView extends JPanel implements ActionListener, PropertyChangeListener {
&nbsp;
<b class="fc">&nbsp;    public final String viewName = &quot;Have funny Joke&quot;;</b>
&nbsp;
<b class="fc">&nbsp;    private JTextField cityTextField = new JTextField();</b>
&nbsp;
<b class="fc">&nbsp;    private JButton funJokeBotton = new JButton(&quot;Get a funny joke&quot;);</b>
&nbsp;
<b class="fc">&nbsp;    private JTextArea textDisplayLabel = new JTextArea();</b>
&nbsp;
&nbsp;    public FunJokeViewModel funJokeViewModel;
&nbsp;
&nbsp;    private final FunJokeViewManagerModel funJokeViewManagerModel;
&nbsp;
&nbsp;    public FunJokeController funJokeController;
&nbsp;
&nbsp;    private Image backgroundImage;
&nbsp;
&nbsp;
&nbsp;    public FunJokeView(FunJokeController funJokeController, FunJokeViewModel funJokeViewModel,
&nbsp;                       FunJokeViewManagerModel funJokeViewManagerModel,
<b class="fc">&nbsp;                       FunJokeViewManager funJokeViewManager) {</b>
<b class="fc">&nbsp;        this.funJokeController = funJokeController;</b>
<b class="fc">&nbsp;        this.funJokeViewModel = funJokeViewModel;</b>
<b class="fc">&nbsp;        this.funJokeViewManagerModel = funJokeViewManagerModel;</b>
<b class="fc">&nbsp;        funJokeViewManager.addView(this, viewName);</b>
<b class="fc">&nbsp;        funJokeViewModel.addPropertyChangeListener(this);</b>
&nbsp;
<b class="fc">&nbsp;        backgroundImage = new ImageIcon(&quot;src/main/java/chattingSystem/frameworks_drivers/ui/views/joke.png&quot;).getImage();</b>
<b class="fc">&nbsp;        setLayout(new GridBagLayout());</b>
&nbsp;
<b class="fc">&nbsp;        JLabel titleLabel = new JLabel(&quot;Funny Jokes&quot;);</b>
<b class="fc">&nbsp;        titleLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 25));</b>
<b class="fc">&nbsp;        titleLabel.setForeground(new Color(218, 165, 32));</b>
<b class="fc">&nbsp;        titleLabel.setBackground(new Color(220, 220, 220));</b>
<b class="fc">&nbsp;        GridBagConstraints titleConstraints = new GridBagConstraints();</b>
<b class="fc">&nbsp;        titleConstraints.gridx = 0;</b>
<b class="fc">&nbsp;        titleConstraints.gridy = 0;</b>
<b class="fc">&nbsp;        titleConstraints.gridwidth = 2;</b>
<b class="fc">&nbsp;        titleConstraints.insets = new Insets(10, 0, 10, 0);</b>
<b class="fc">&nbsp;        titleConstraints.anchor = GridBagConstraints.CENTER;</b>
<b class="fc">&nbsp;        add(titleLabel, titleConstraints);</b>
&nbsp;
&nbsp;        // Get joke guide
<b class="fc">&nbsp;        JLabel jokeGuideLabel = new JLabel(&quot;   Guide: Click button to get a joke to spice up chat :D&quot;);</b>
<b class="fc">&nbsp;        jokeGuideLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 15));</b>
<b class="fc">&nbsp;        GridBagConstraints jokeGuideLabelConstraints = new GridBagConstraints();</b>
<b class="fc">&nbsp;        jokeGuideLabelConstraints.gridx = 0;</b>
<b class="fc">&nbsp;        jokeGuideLabelConstraints.gridy = 1;</b>
<b class="fc">&nbsp;        jokeGuideLabelConstraints.insets = new Insets(0, 10, 5, 5);</b>
<b class="fc">&nbsp;        add(jokeGuideLabel, jokeGuideLabelConstraints);</b>
&nbsp;
&nbsp;
&nbsp;        // Get Joke Button
<b class="fc">&nbsp;        GridBagConstraints funJokeButtonConstraints = new GridBagConstraints();</b>
<b class="fc">&nbsp;        funJokeBotton.setBackground(new Color(30, 144, 255));</b>
<b class="fc">&nbsp;        funJokeBotton.setForeground(Color.WHITE);</b>
<b class="fc">&nbsp;        funJokeBotton.setFocusPainted(false);</b>
<b class="fc">&nbsp;        funJokeButtonConstraints.gridx = 0;</b>
<b class="fc">&nbsp;        funJokeButtonConstraints.gridy = 2;</b>
<b class="fc">&nbsp;        funJokeButtonConstraints.gridwidth = 2;</b>
<b class="fc">&nbsp;        funJokeButtonConstraints.insets = new Insets(10, 0, 10, 0);</b>
<b class="fc">&nbsp;        funJokeButtonConstraints.anchor = GridBagConstraints.CENTER;</b>
<b class="fc">&nbsp;        add(funJokeBotton, funJokeButtonConstraints);</b>
&nbsp;
&nbsp;        // Text Display Label (Large JLabel with the shape of a box)
<b class="fc">&nbsp;        textDisplayLabel.setBorder(BorderFactory.createLineBorder(Color.BLACK));</b>
<b class="fc">&nbsp;        textDisplayLabel.setLineWrap(true);</b>
<b class="fc">&nbsp;        textDisplayLabel.setWrapStyleWord(true);</b>
<b class="fc">&nbsp;        textDisplayLabel.setEditable(false);</b>
<b class="fc">&nbsp;        GridBagConstraints textDisplayLabelConstraints = new GridBagConstraints();</b>
<b class="fc">&nbsp;        textDisplayLabelConstraints.gridx = 0;</b>
<b class="fc">&nbsp;        textDisplayLabelConstraints.gridy = 3;</b>
<b class="fc">&nbsp;        textDisplayLabelConstraints.gridwidth = 2;</b>
<b class="fc">&nbsp;        textDisplayLabelConstraints.weightx = 0.5;</b>
<b class="fc">&nbsp;        textDisplayLabelConstraints.weighty = 0.5;</b>
<b class="fc">&nbsp;        textDisplayLabelConstraints.fill = GridBagConstraints.BOTH;</b>
<b class="fc">&nbsp;        textDisplayLabelConstraints.insets = new Insets(0, 80, 50, 80);</b>
<b class="fc">&nbsp;        JScrollPane scrollPane = new JScrollPane(textDisplayLabel);</b>
<b class="fc">&nbsp;        add(scrollPane, textDisplayLabelConstraints);</b>
&nbsp;
&nbsp;
<b class="fc">&nbsp;        funJokeBotton.addActionListener(</b>
<b class="fc">&nbsp;                new ActionListener() {</b>
&nbsp;                    @Override
&nbsp;                    public void actionPerformed(ActionEvent e) {
<b class="nc">&nbsp;                        if (e.getSource().equals(funJokeBotton)) {</b>
<b class="nc">&nbsp;                            FunJokeState state = funJokeViewModel.getState();</b>
<b class="nc">&nbsp;                            funJokeController.execute();</b>
<b class="nc">&nbsp;                            FunJokeState currentState = funJokeViewModel.getState();</b>
<b class="nc">&nbsp;                            String JokeInfoDisplay = currentState.getJokeInfoDisplay();</b>
<b class="nc">&nbsp;                            textDisplayLabel.setText(JokeInfoDisplay);</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;        );
&nbsp;
&nbsp;    }
&nbsp;    @Override
&nbsp;    protected void paintComponent(Graphics g) {
<b class="nc">&nbsp;        super.paintComponent(g);</b>
&nbsp;        // Paint the background image
<b class="nc">&nbsp;        g.drawImage(backgroundImage, 0, 0, getWidth(), getHeight(), this);</b>
&nbsp;    }
&nbsp;    public void actionPerformed(ActionEvent evt) {
<b class="nc">&nbsp;        System.out.println(&quot;Click &quot; + evt.getActionCommand());</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public void propertyChange(PropertyChangeEvent evt) {
<b class="nc">&nbsp;        FunJokeState state = (FunJokeState) evt.getNewValue();</b>
<b class="nc">&nbsp;        if (state.getErrorMessage() != null) {</b>
<b class="nc">&nbsp;            JOptionPane.showMessageDialog(this, state.getErrorMessage());</b>
<b class="nc">&nbsp;            state.setErrorMessage(null);</b>
&nbsp;        }else{
&nbsp;            // Clear the input fields
<b class="nc">&nbsp;            cityTextField.setText(&quot;&quot;);</b>
<b class="nc">&nbsp;            FunJokeState currentState = funJokeViewModel.getState();</b>
<b class="nc">&nbsp;            currentState.setJokeInfoDisplay(null);</b>
<b class="nc">&nbsp;            funJokeViewModel.setState(currentState);</b>
&nbsp;        }
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-12-02 18:22</div>
</div>
</body>
</html>
